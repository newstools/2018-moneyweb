The benchmark S&P 500 index posted slight gains on Friday, helped by gains from industrial and energy stocks, but IBM’s disappointing results and a sell-off in semiconductor stocks weighed on the Nasdaq and the Dow. IBM fell 6.2% after the company reported quarterly profit margins that fell short of Wall Street expectations. Semiconductor stocks also took a hit, led by Lam Research’s 5% drop after what analysts called a disappointing shipment forecast. The S&P technology index fell about 0.5%. Not all results were disappointing. Morgan Stanley rose 3% after it reported a 40% jump in quarterly profit, driven by its trading business. United Airlines rose 1.6% after reporting a rise in profit and CSX Corp jumped 7% after the railroad operator topped profit estimates. That helped lift the Dow Jones Transport index by 1.2%. Oil prices jumped about 2%, lifted by a reported decline in US crude inventories and the risk of supply disruptions. Exxon and Chevron were up about 1.3%. S&P 500 companies are expected to post an 18.6% rise in profits in the first quarter, the biggest increase in seven years, according to Thomson Reuters data. Stocks have gained solidly in the past two days after strong results from industry bellwethers as well as positive economic data helped investors turn attention away from geopolitical and trade tensions. At 10:08 a.m. ET, the Dow Jones Industrial Average was down 0.14% at 24 751.47. The S&P 500 was up 0.02% at 2 707.05 and the Nasdaq Composite was down 0.12% at 7 272.62. Advancing issues outnumbered decliners on the NYSE for a 1.84-to-1 ratio, and on the Nasdaq, for a 1.27-to-1 ratio.